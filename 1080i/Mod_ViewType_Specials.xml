<?xml version="1.0" encoding="utf-8"?>
<!--Titan-->
<includes>
	<!-- play ost theme in views , no filecheck needed Leia ? -->
	<include name="play_OST_Theme">
        <control type="button">
			<visible>false</visible>
			<onfocus condition="Skin.HasSetting(LibraryOSTthemes) + ![ListItem.IsCollection | String.Contains(ListItem.Path,http)]">AlarmClock(SetThemplayProperty,SetProperty(PlayingOST,True,home),0:02,silent)</onfocus>
			<onfocus condition="Skin.HasSetting(LibraryOSTthemes) + ![ListItem.IsCollection | String.Contains(ListItem.Path,http)]">AlarmClock(themeplayback_delay,PlayMedia($ESCINFO[ListItem.Path,,theme.mp3]),0:02,silent)</onfocus>
			<onunfocus condition="Skin.HasSetting(LibraryOSTthemes) + ![ListItem.IsCollection | String.Contains(ListItem.Path,http)]">Playercontrol(Stop)</onunfocus>
			<onunfocus condition="System.HasAlarm(themeplayback_delay)">CancelAlarm(themeplayback_delay,silent)</onunfocus>
			<onunfocus condition="System.HasAlarm(SetThemplayProperty)">CancelAlarm(SetThemplayProperty,silent)</onunfocus>
			<onunfocus condition="!String.IsEmpty(Window(home).Property(PlayingOST))">ClearProperty(PlayingOST,home)</onunfocus> 
		</control>
	</include>
	
	<!-- autoplay trailers in views, buggy -->
	<include name="AutoTrailerButton_WIP_Still Issues">
		<control type="button">
			<visible>false</visible>
			
			<onfocus condition="Skin.HasSetting(DetailsAutoTrailer)">RunScript(script.skin.helper.service,action=fileexists,file=$INFO[listitem.path]$INFO[ListItem.FolderName,,-trailer.mp4],winprop=trailer_avail)</onfocus>
			<onfocus condition="Skin.HasSetting(DetailsAutoTrailer) + !Player.HasVideo + [!String.IsEmpty(ListItem.Trailer)]">AlarmClock(trailer_delay,PlayMedia($INFO[ListItem.Trailer],1),0:03,silent)</onfocus>
			<onfocus condition="Skin.HasSetting(DetailsAutoTrailer) + !Player.HasVideo + [String.IsEmpty(ListItem.Trailer) + !String.IsEmpty(Window(home).Property(trailer_avail))]">AlarmClock(trailer_delay,PlayMedia($INFO[listitem.path]$INFO[ListItem.FolderName,,-trailer.mp4],1),0:03,silent)</onfocus>
			<onfocus condition="Skin.HasSetting(DetailsAutoTrailer) + !Player.HasVideo + [String.IsEmpty(ListItem.Trailer) + String.IsEmpty(Window(home).Property(trailer_avail))]">AlarmClock(trailer_delay,RunScript(script.skin.helper.service,action=playtraileryoutube,title=$INFO[ListItem.Title],local=true),0:03,silent)</onfocus>
			<onunfocus condition="Skin.HasSetting(DetailsAutoTrailer) + System.HasAlarm(trailer_delay)">CancelAlarm(trailer_delay,true)</onunfocus>
			<onunfocus condition="Skin.HasSetting(DetailsAutoTrailer) + !String.IsEmpty(Window(home).Property(trailer_avail))">ClearProperty(trailer_avail,home)</onunfocus>
			<onunfocus condition="Skin.HasSetting(DetailsAutoTrailer) + ![VideoPlayer.Content(movies) | VideoPlayer.Content(episodes) | VideoPlayer.Content(musicvideos) | VideoPlayer.Content(livetv)]">PlayerControl(Stop)</onunfocus>
			
		</control>
	</include>
	
	<include name="AutoTrailerButton">
		<control type="button">
			<visible>false</visible>
			<onfocus condition="!Player.HasVideo + Skin.HasSetting(DetailsAutoTrailer) + !String.IsEmpty(ListItem.Trailer)">AlarmClock(trailer_delay,RunScript(script.skin.helper.service,ACTION=playtrailer,MODE=windowed,YOUTUBE=$INFO[Skin.String(AutoYoutubeTrailer)]),00:03,silent)</onfocus>
			<onfocus condition="!Player.HasVideo + Skin.HasSetting(DetailsAutoTrailer) + [String.IsEqual(ListItem.DBType,tvshow) | Container.Content(tvshows)]">AlarmClock(trailer_delay,RunScript(script.skin.helper.service,action=playtraileryoutube,title=$VAR[TVShowTitle]),00:03,silent)</onfocus>
			<onunfocus condition="System.HasAlarm(trailer_delay)">CancelAlarm(trailer_delay,true)</onunfocus>
			<onunfocus condition="Player.HasVideo + ![VideoPlayer.Content(movies) | VideoPlayer.Content(episodes) | VideoPlayer.Content(musicvideos) | VideoPlayer.Content(livetv)]">PlayerControl(Stop)</onunfocus>
			<onunfocus condition="!Skin.HasSetting(Library_NoOnlineLookupTrailer) + !String.IsEmpty(Window(home).Property(trailer_avail))">ClearProperty(trailer_avail,home)</onunfocus>
		</control>
	</include>
	
	<!-- check if local trailer exist - views -->
	<include name="check_local_trailer"> <!-- = just if ' Skin.HasSetting(Library_NoOnlineLookupTrailer) ' -->
		<control type="button">
			<visible>false</visible>
			<onfocus>xbmc.RunScript(special://skin/scripts/checkexist.py)</onfocus> <!-- faster -->
			<!-- <onfocus>RunScript(script.skin.helper.service,action=fileexists,file=$INFO[listitem.path]$INFO[ListItem.FolderName,,-trailer.mp4],winprop=trailer_avail)</onfocus> -->
			<onunfocus condition="!String.IsEmpty(Window(home).Property(trailer_avail))">ClearProperty(trailer_avail,home)</onunfocus>
		</control>
	</include>
</includes>